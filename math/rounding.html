<html>
<head>
    <title>Rounding</title>
</head>
<body>
    <div id="inout"></div>
    <div>
        <input type="text" id="response" placeholder="answer..."></input>
    </div><br/>
    <script>

        var input = document.getElementById('inout');
        var response = document.getElementById('response');

        var q;
        var p;
        var p1;
        var correct = 0;
        var wrong = 0;
        var streak = 0;
        function next_question() {
            response.value = '';
            q = Math.floor(Math.random() * 100000000) / 100000;
            p = 10;
            p1 = 0.1;
            var i = Math.floor(Math.random() * 5);
            while (i-- > 0) { p = p / 10; p1 = p1 * 10; }
            inout.innerHTML += "Round " + q + " to " + p + '<br/>';
            window.scrollTo(0, document.body.scrollHeight);
        }

        response.addEventListener('keyup', function (e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                var val = +response.value;
                var a = Math.round(q * p1);
                if (val * p1 === a) {
                    streak++;
                    correct++;
                    inout.innerHTML += '<span style="color: green">Good! Correct/wrong: ' + correct + '/' + wrong + '. Success streak: ' + streak + '.</span><br/>';
                }
                else {
                    wrong++;
                    streak = 0;
                    inout.innerHTML += '<span style="color: red">Wrong answer: ' + val + '. Correct answer: ' + a * p + '<br>Correct/wrong: ' + correct + '/' + wrong + '.</span></br>';
                }
                next_question();
            }
        });

        next_question();

    </script>
        <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-15590292-1', 'auto');
      ga('send', 'pageview');
    </script>
</body>
</html>